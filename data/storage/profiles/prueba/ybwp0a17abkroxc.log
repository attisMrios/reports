{"type":"operationStart","subtype":"profile","data":{"_id":"1GxFH6wm1GUPs8RH","timestamp":"2025-11-29T01:49:40.541Z","state":"queued","mode":"full","creationDate":"2025-11-29T01:49:40.543Z","modificationDate":"2025-11-29T01:49:40.543Z","shortid":"CLH6yRA","$entitySet":"profiles"},"doDiffs":false,"timestamp":1764380980542,"id":"00s41ubcfbljt5k","previousOperationId":null,"operationId":"twx7812o7qj73iq"}
{"type":"log","level":"info","message":"Render request 8 queued for execution and waiting for available worker","previousOperationId":"twx7812o7qj73iq","timestamp":1764380980542,"id":"486b9zqlkcyuzjk"}
{"type":"operationStart","subtype":"render","name":"prueba","previousOperationId":"twx7812o7qj73iq","timestamp":1764380980552,"id":"nx056pqbxi19zu3","previousEventId":"00s41ubcfbljt5k","operationId":"we905a8p3lrng54","res":{"content":null,"meta":{"diff":"Index: resMeta\n===================================================================\n--- resMeta\n+++ resMeta\n@@ -1,0 +1,1 @@\n\\ No newline at end of file\n+{}\n\\ No newline at end of file\n"}},"req":{"diff":"Index: req\n===================================================================\n--- req\n+++ req\n@@ -1,0 +1,21 @@\n\\ No newline at end of file\n+{\n+  \"template\": {\n+    \"name\": \"prueba\",\n+    \"engine\": \"handlebars\",\n+    \"recipe\": \"chrome-pdf\",\n+    \"data\": {\n+      \"shortid\": \"2gs0fIjmb\"\n+    },\n+    \"shortid\": \"D33ENiZAXv\",\n+    \"chrome\": {\n+      \"printBackground\": true\n+    },\n+    \"content\": \"<html>\\r\\n  <head>\\r\\n    <style>\\r\\n      body { font-family: Arial, sans-serif; margin: 40px; color: #333; }\\r\\n      header {\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        border-bottom: 3px solid #2c3e50;\\r\\n        padding-bottom: 10px;\\r\\n        margin-bottom: 20px;\\r\\n      }\\r\\n      header img {\\r\\n        height: 60px;\\r\\n        margin-right: 20px;\\r\\n      }\\r\\n      header .company-info {\\r\\n        line-height: 1.4;\\r\\n      }\\r\\n      h1 {\\r\\n        color: #2c3e50;\\r\\n        margin-top: 0;\\r\\n      }\\r\\n      .report-info {\\r\\n        margin-bottom: 20px;\\r\\n      }\\r\\n      table {\\r\\n        border-collapse: collapse;\\r\\n        width: 100%;\\r\\n        margin-top: 20px;\\r\\n      }\\r\\n      th, td {\\r\\n        border: 1px solid #ccc;\\r\\n        padding: 8px;\\r\\n        text-align: left;\\r\\n      }\\r\\n      th {\\r\\n        background-color: #f4f4f4;\\r\\n        color: #2c3e50;\\r\\n      }\\r\\n      tfoot td {\\r\\n        font-weight: bold;\\r\\n        border-top: 2px solid #2c3e50;\\r\\n      }\\r\\n    </style>\\r\\n  </head>\\r\\n  <body>\\r\\n    <!-- Cabecera con logo y datos de empresa -->\\r\\n    <header>\\r\\n      <img src=\\\"https://via.placeholder.com/150x60.png?text=LOGO\\\" alt=\\\"Logo Empresa\\\"/>\\r\\n      <div class=\\\"company-info\\\">\\r\\n        <strong>Mi Empresa S.A.S</strong><br/>\\r\\n        NIT: 900123456-7<br/>\\r\\n        Tel: (6) 123 4567<br/>\\r\\n        Dirección: Calle 123 #45-67, Pereira<br/>\\r\\n        Email: contacto@miempresa.com\\r\\n      </div>\\r\\n    </header>\\r\\n\\r\\n    <!-- Título del reporte -->\\r\\n    <h1>Reporte de {{cliente}}</h1>\\r\\n    <div class=\\\"report-info\\\">\\r\\n      <p><strong>Fecha:</strong> {{fecha}}</p>\\r\\n    </div>\\r\\n\\r\\n    <!-- Tabla de productos -->\\r\\n    <table>\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>Producto</th>\\r\\n          <th>Precio</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        {{#each items}}\\r\\n          <tr>\\r\\n            <td>{{this.producto}}</td>\\r\\n            <td>${{this.precio}}</td>\\r\\n          </tr>\\r\\n        {{/each}}\\r\\n      </tbody>\\r\\n      <tfoot>\\r\\n        <tr>\\r\\n          <td>Total</td>\\r\\n          <td>\\r\\n            ${{#reduce items}}{{sum this.precio}}{{/reduce}}\\r\\n          </td>\\r\\n        </tr>\\r\\n      </tfoot>\\r\\n    </table>\\r\\n  </body>\\r\\n</html>\",\n+    \"@odata.context\": \"http://localhost:5488/odata/$metadata#templates/$entity\",\n+    \"@odata.editLink\": \"http://localhost:5488/odata/templates('q409SYpois0VErtG')\",\n+    \"@odata.id\": \"http://localhost:5488/odata/templates('q409SYpois0VErtG')\",\n+    \"creationDate\": \"2025-11-29T01:44:46.247Z\",\n+    \"modificationDate\": \"2025-11-29T01:49:38.666Z\"\n+  },\n+  \"data\": {}\n+}\n\\ No newline at end of file\n"}}
{"type":"log","timestamp":1764380980553,"level":"info","message":"Starting rendering request 8","meta":{"rootId":"ybwp0a17abkroxc","id":"ybwp0a17abkroxc"},"id":"cwrd5r73pljw9az","previousOperationId":"we905a8p3lrng54"}
{"type":"log","timestamp":1764380980553,"level":"info","message":"Rendering template { name: prueba, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"ybwp0a17abkroxc","id":"ybwp0a17abkroxc"},"id":"bquvj8orsner537","previousOperationId":"we905a8p3lrng54"}
{"type":"log","timestamp":1764380980554,"level":"debug","message":"Adding sample data 2gs0fIjmb","meta":{"rootId":"ybwp0a17abkroxc","id":"ybwp0a17abkroxc"},"id":"i6meh1u2h71m9b9","previousOperationId":"we905a8p3lrng54"}
{"type":"log","timestamp":1764380980556,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"ybwp0a17abkroxc","id":"ybwp0a17abkroxc"},"id":"6n0nyjuv8dd584e","previousOperationId":"we905a8p3lrng54"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1764380980556,"id":"ovon35ktuy7zcx3","previousEventId":"nx056pqbxi19zu3","operationId":"yps98r048ig3qmg","previousOperationId":"we905a8p3lrng54","res":{"content":null,"meta":{"diff":"Index: resMeta\n===================================================================\n--- resMeta\n+++ resMeta\n@@ -1,1 +1,1 @@\n-{}\n\\ No newline at end of file\n+{\"reportName\":\"prueba\",\"headers\":{}}\n\\ No newline at end of file\n"}},"req":{"diff":"Index: req\n===================================================================\n--- req\n+++ req\n@@ -14,0 +14,3 @@\n+    \"creationDate\": \"2025-11-29T01:44:46.247Z\",\n+    \"modificationDate\": \"2025-11-29T01:49:38.666Z\",\n+    \"_id\": \"q409SYpois0VErtG\",\n@@ -17,2 +20,1 @@\n-    \"creationDate\": \"2025-11-29T01:44:46.247Z\",\n-    \"modificationDate\": \"2025-11-29T01:49:38.666Z\"\n+    \"scripts\": []\n@@ -20,1 +22,18 @@\n-  \"data\": {}\n+  \"data\": {\n+    \"cliente\": \"Juan Pérez\",\n+    \"fecha\": \"2025-11-28\",\n+    \"items\": [\n+      {\n+        \"producto\": \"Laptop\",\n+        \"precio\": 1200\n+      },\n+      {\n+        \"producto\": \"Mouse\",\n+        \"precio\": 25\n+      },\n+      {\n+        \"producto\": \"Teclado\",\n+        \"precio\": 45\n+      }\n+    ]\n+  }\n"}}
{"type":"log","timestamp":1764380980556,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"ybwp0a17abkroxc","id":"ybwp0a17abkroxc"},"id":"bko06hlgqbidg8x","previousOperationId":"yps98r048ig3qmg"}
{"type":"log","timestamp":1764380980572,"level":"warn","message":"Error when processing render request 8\n(because) error when evaluating engine handlebars for template /prueba\n(because) missing helper: \"reduce\"\n\n(sandbox.js line 13:18)\nError: Missing helper: \"reduce\"\n  at Object.<anonymous> (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\helper-missing.js:19:13)\n  at Object.wrapper (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n  at Object.main (eval at <anonymous> (eval at makeEvaluate (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\ses\\index.js:8504:27)), <anonymous>:40:106)\n  at main (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n  at ret (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\n  at Object.execute (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:80:14)\n  at Object.execute (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:27:43)\n  at executionFn (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:273:42)\n  at eval (sandbox.js:13:18)\n  at async run (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:14)\n  at async executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\nwrapped by:\nError: Error when evaluating engine handlebars for template /prueba\n(because) missing helper: \"reduce\"\n  at module.exports (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:377:35)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)","meta":{"rootId":"ybwp0a17abkroxc","id":"ybwp0a17abkroxc"},"id":"24bnkikf13bpgg7","previousOperationId":"yps98r048ig3qmg"}
{"type":"log","timestamp":1764380980572,"level":"warn","message":"Rendering request 8 finished with error in 31 ms","meta":{"rootId":"ybwp0a17abkroxc","id":"ybwp0a17abkroxc"},"id":"phxhpyjyzsizpj5","previousOperationId":"yps98r048ig3qmg"}
{"type":"error","timestamp":1764380980574,"entity":{"shortid":"D33ENiZAXv","name":"prueba","content":"<html>\r\n  <head>\r\n    <style>\r\n      body { font-family: Arial, sans-serif; margin: 40px; color: #333; }\r\n      header {\r\n        display: flex;\r\n        align-items: center;\r\n        border-bottom: 3px solid #2c3e50;\r\n        padding-bottom: 10px;\r\n        margin-bottom: 20px;\r\n      }\r\n      header img {\r\n        height: 60px;\r\n        margin-right: 20px;\r\n      }\r\n      header .company-info {\r\n        line-height: 1.4;\r\n      }\r\n      h1 {\r\n        color: #2c3e50;\r\n        margin-top: 0;\r\n      }\r\n      .report-info {\r\n        margin-bottom: 20px;\r\n      }\r\n      table {\r\n        border-collapse: collapse;\r\n        width: 100%;\r\n        margin-top: 20px;\r\n      }\r\n      th, td {\r\n        border: 1px solid #ccc;\r\n        padding: 8px;\r\n        text-align: left;\r\n      }\r\n      th {\r\n        background-color: #f4f4f4;\r\n        color: #2c3e50;\r\n      }\r\n      tfoot td {\r\n        font-weight: bold;\r\n        border-top: 2px solid #2c3e50;\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <!-- Cabecera con logo y datos de empresa -->\r\n    <header>\r\n      <img src=\"https://via.placeholder.com/150x60.png?text=LOGO\" alt=\"Logo Empresa\"/>\r\n      <div class=\"company-info\">\r\n        <strong>Mi Empresa S.A.S</strong><br/>\r\n        NIT: 900123456-7<br/>\r\n        Tel: (6) 123 4567<br/>\r\n        Dirección: Calle 123 #45-67, Pereira<br/>\r\n        Email: contacto@miempresa.com\r\n      </div>\r\n    </header>\r\n\r\n    <!-- Título del reporte -->\r\n    <h1>Reporte de {{cliente}}</h1>\r\n    <div class=\"report-info\">\r\n      <p><strong>Fecha:</strong> {{fecha}}</p>\r\n    </div>\r\n\r\n    <!-- Tabla de productos -->\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Producto</th>\r\n          <th>Precio</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {{#each items}}\r\n          <tr>\r\n            <td>{{this.producto}}</td>\r\n            <td>${{this.precio}}</td>\r\n          </tr>\r\n        {{/each}}\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td>Total</td>\r\n          <td>\r\n            ${{#reduce items}}{{sum this.precio}}{{/reduce}}\r\n          </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  </body>\r\n</html>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"yps98r048ig3qmg","id":"fwllp0gw8yqpyhz","stack":"Error: Missing helper: \"reduce\"\n  at Object.<anonymous> (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\helper-missing.js:19:13)\n  at Object.wrapper (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n  at Object.main (eval at <anonymous> (eval at makeEvaluate (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\ses\\index.js:8504:27)), <anonymous>:40:106)\n  at main (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n  at ret (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\n  at Object.execute (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:80:14)\n  at Object.execute (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:27:43)\n  at executionFn (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:273:42)\n  at eval (sandbox.js:13:18)\n  at async run (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:14)\n  at async executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\nwrapped by:\nError: Error when evaluating engine handlebars for template /prueba\n(because) missing helper: \"reduce\"\n  at module.exports (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:377:35)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)","message":"Error when evaluating engine handlebars for template /prueba\n(because) missing helper: \"reduce\"\n\n(sandbox.js line 13:18)"}
