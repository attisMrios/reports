{"type":"operationStart","subtype":"profile","data":{"_id":"8sXREZEOqLWIwVmF","timestamp":"2025-12-02T16:54:48.720Z","state":"queued","mode":"standard","creationDate":"2025-12-02T16:54:48.722Z","modificationDate":"2025-12-02T16:54:48.722Z","shortid":"uR3e5UZ","$entitySet":"profiles"},"doDiffs":false,"timestamp":1764694488721,"id":"ia70canl7j8cnd5","previousOperationId":null,"operationId":"c1gjdw7zmxbse4h"}
{"type":"log","level":"info","message":"Render request 4 queued for execution and waiting for available worker","previousOperationId":"c1gjdw7zmxbse4h","timestamp":1764694488722,"id":"wl2wj7qv3rtwn3a"}
{"type":"operationStart","subtype":"render","name":"acqua_full_color","previousOperationId":"c1gjdw7zmxbse4h","timestamp":1764694488730,"id":"e4u6gloxk44gkme","previousEventId":"ia70canl7j8cnd5","operationId":"mcv9yqvrwgr0dnh"}
{"type":"log","timestamp":1764694488730,"level":"info","message":"Starting rendering request 4","meta":{"rootId":"2q4736woc42zcdg","id":"2q4736woc42zcdg"},"id":"2qwvow9u9o2qrb2","previousOperationId":"mcv9yqvrwgr0dnh"}
{"type":"log","timestamp":1764694488730,"level":"info","message":"Rendering template { name: acqua_full_color, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"2q4736woc42zcdg","id":"2q4736woc42zcdg"},"id":"dz5tfjpgx6hlgce","previousOperationId":"mcv9yqvrwgr0dnh"}
{"type":"log","timestamp":1764694488731,"level":"debug","message":"Adding sample data 2gs0fIjmb","meta":{"rootId":"2q4736woc42zcdg","id":"2q4736woc42zcdg"},"id":"w65m1nv570sasjq","previousOperationId":"mcv9yqvrwgr0dnh"}
{"type":"log","timestamp":1764694488732,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"2q4736woc42zcdg","id":"2q4736woc42zcdg"},"id":"7fayp5kw7emy4qp","previousOperationId":"mcv9yqvrwgr0dnh"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1764694488732,"id":"cvn4raksjzkabix","previousEventId":"e4u6gloxk44gkme","operationId":"nk4fvyg1nmbmi3r","previousOperationId":"mcv9yqvrwgr0dnh"}
{"type":"log","timestamp":1764694488732,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"2q4736woc42zcdg","id":"2q4736woc42zcdg"},"id":"uwmdtfzzbltcc20","previousOperationId":"nk4fvyg1nmbmi3r"}
{"type":"operationStart","subtype":"render","name":"header-footer","previousOperationId":"nk4fvyg1nmbmi3r","timestamp":1764694488750,"id":"a86bxhgi6rkhigw","previousEventId":"cvn4raksjzkabix","operationId":"4hj4v33mgl01fck"}
{"type":"log","timestamp":1764694488750,"level":"info","message":"Starting rendering (child) request","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"7k8ugmoyh7lou8x","previousOperationId":"4hj4v33mgl01fck"}
{"type":"log","timestamp":1764694488750,"level":"info","message":"Rendering template { name: header-footer, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"0vk6v5kbpf7n0rz","previousOperationId":"4hj4v33mgl01fck"}
{"type":"log","timestamp":1764694488750,"level":"debug","message":"Inline data specified.","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"d8o6cosnqdtreau","previousOperationId":"4hj4v33mgl01fck"}
{"type":"log","timestamp":1764694488751,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"y55tbae51xqvb9g","previousOperationId":"4hj4v33mgl01fck"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1764694488751,"id":"z7ipc8ug21eo77f","previousEventId":"a86bxhgi6rkhigw","operationId":"wmibij7t09imkpt","previousOperationId":"4hj4v33mgl01fck"}
{"type":"log","timestamp":1764694488751,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"5gpugtwz5jjxx8y","previousOperationId":"wmibij7t09imkpt"}
{"type":"operationEnd","operationId":"wmibij7t09imkpt","timestamp":1764694488760,"id":"haw3pno8cza529p","previousEventId":"z7ipc8ug21eo77f","previousOperationId":"wmibij7t09imkpt"}
{"type":"operationStart","subtype":"recipe","name":"chrome-pdf","timestamp":1764694488762,"id":"eh65sv9lo1tf2vr","previousEventId":"haw3pno8cza529p","operationId":"po84zevuwqx4poh","previousOperationId":"wmibij7t09imkpt"}
{"type":"log","timestamp":1764694488762,"level":"debug","message":"Executing recipe chrome-pdf","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"b5gmacua5ljkkto","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694488765,"level":"debug","message":"Converting with chrome Chrome/138.0.7204.168 using chrome-pool strategy","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"ne6ukgblb6qlxqf","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694488836,"level":"debug","message":"Page request: GET (document) file:///C:/Users/siste/AppData/Local/Temp/jsreport/autocleanup/5b7e66aa-f4c0-4266-bc6f-206572b2a7f0-chrome-pdf.html","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"o3g3usgkq81n91y","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694488872,"level":"debug","message":"Page request finished: GET (document) 200 file:///C:/Users/siste/AppData/Local/Temp/jsreport/autocleanup/5b7e66aa-f4c0-4266-bc6f-206572b2a7f0-chrome-pdf.html","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"oe5w8oki3gqzw6u","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694488879,"level":"debug","message":"Page request: GET (image) data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAasAAADnCAYAAACg/HnOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjw...","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"1dt6aj24hzblyml","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694488880,"level":"debug","message":"Page request finished: GET (image) 200 data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAasAAADnCAYAAACg/HnOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjw...","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"9tl144yng4dgi3b","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694488893,"level":"debug","message":"Running chrome with params {\"timeout\":59956,\"margin\":{},\"printBackground\":true}","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"uxsbypg9ybnrblj","previousOperationId":"po84zevuwqx4poh"}
{"type":"operationEnd","operationId":"po84zevuwqx4poh","timestamp":1764694489189,"id":"w7xmqtdt7lhcn17","previousEventId":"eh65sv9lo1tf2vr","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694489189,"level":"debug","message":"Skipping storing report.","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"fr2refx090fgrs9","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694489189,"level":"info","message":"Rendering (child) request finished in 469 ms","meta":{"rootId":"2q4736woc42zcdg","id":"v6djbciwdfiifly"},"id":"fjt1ialpizd3a7d","previousOperationId":"po84zevuwqx4poh"}
{"type":"operationEnd","subtype":"render","operationId":"4hj4v33mgl01fck","timestamp":1764694489189,"id":"gzqiovn2rntqhpl","previousEventId":"w7xmqtdt7lhcn17","previousOperationId":"po84zevuwqx4poh"}
{"type":"log","timestamp":1764694489255,"level":"warn","message":"Error when processing render request 4\n(because) error when evaluating engine handlebars for template /acqua_full_color\n(because) \"childTemplate\" helper call failed\n(because) child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n\n(system-helpers.js line 72:11)\n\n  70 |\n  71 |   if (res.meta.contentType && !res.meta.contentType.includes('text')) {\n> 72 |     throw new Error('Child template result needs to be a text. Consider changing recipe to a text based recipe like html.')\n     |           ^\n  73 |   }\n  74 |\n  75 |   return res.content.toString()\n\n\nError: Child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n  at Object.childTemplate (system-helpers.js:72:11)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:284:28\n  at async Promise.all (index 0)\n  at async executionFn (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:283:11)\n  at async run (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:14)\n  at async executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)\nwrapped by:\nError: \"childTemplate\" helper call failed\n(because) child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n  at module.exports (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at getEnhancedHelperError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:442:54)\n  at C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:460:15\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:284:28\n  at async Promise.all (index 0)\n  at async executionFn (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:283:11)\n  at async run (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:14)\n  at async executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)\nwrapped by:\nError: Error when evaluating engine handlebars for template /acqua_full_color\n(because) \"childTemplate\" helper call failed\n(because) child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n  at module.exports (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:377:35)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)","meta":{"rootId":"2q4736woc42zcdg","id":"2q4736woc42zcdg"},"id":"pr3omintvws9pp8","previousOperationId":"nk4fvyg1nmbmi3r"}
{"type":"log","timestamp":1764694489256,"level":"warn","message":"Rendering request 4 finished with error in 536 ms","meta":{"rootId":"2q4736woc42zcdg","id":"2q4736woc42zcdg"},"id":"6nplse3mws91fo5","previousOperationId":"nk4fvyg1nmbmi3r"}
{"type":"error","timestamp":1764694489259,"entity":{"shortid":"D33ENiZAXv","name":"acqua_full_color","content":"<html>\r\n\r\n<head>\r\n  <style>\r\n    body {\r\n      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n      margin: 40px;\r\n      color: #333;\r\n      font-size: 12px;\r\n      background-color: #fafafa;\r\n    }\r\n\r\n    .important-box {\r\n      background-color: #e1f8fd;\r\n      padding: 15px;\r\n      margin-bottom: 20px;\r\n      margin-top: 10px;\r\n      text-align: center;\r\n      font-size: 12px;\r\n      font-weight: bold;\r\n      border-radius: 4px;\r\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\r\n    }\r\n\r\n    .important-box span {\r\n      color: #b22222;\r\n      /* rojo para resaltar */\r\n    }\r\n\r\n    /* Bloques debajo de la cabecera */\r\n    .info-section {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .client-box {\r\n      flex: 2;\r\n      border: 1px solid #e0e0e0;\r\n      padding: 15px;\r\n      margin-right: 10px;\r\n      background: white;\r\n      border-radius: 6px;\r\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\r\n    }\r\n\r\n    .client-box table {\r\n      width: 100%;\r\n      border-collapse: collapse;\r\n    }\r\n\r\n    .client-box td {\r\n      padding: 2px;\r\n      font-size: 12px;\r\n    }\r\n\r\n    .client-box strong {\r\n      color: #2c3e50;\r\n    }\r\n\r\n    .payment-box {\r\n      flex: 0 0 160px;\r\n      background: linear-gradient(135deg, #26A69A 0%, #009688 100%);\r\n      border: none;\r\n      padding: 15px;\r\n      text-align: center;\r\n      color: white;\r\n      border-radius: 6px;\r\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .payment-box strong {\r\n      display: block;\r\n      margin-bottom: 8px;\r\n      color: #E8F5E9;\r\n      font-size: 11px;\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n    }\r\n\r\n    .detail-box {\r\n      border: 1px solid #e0e0e0;\r\n      padding: 15px;\r\n      background: white;\r\n      border-radius: 6px;\r\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\r\n    }\r\n\r\n    .detail-box h2 {\r\n      margin-top: 0;\r\n      color: #2c3e50;\r\n    }\r\n\r\n    .detail-box table {\r\n      border-collapse: collapse;\r\n      width: 100%;\r\n    }\r\n\r\n    .detail-box th,\r\n    .detail-box td {\r\n      border: 1px solid #e0e0e0;\r\n      padding: 5px;\r\n      text-align: left;\r\n      font-size: 12px;\r\n    }\r\n\r\n    .detail-box th {\r\n      background: linear-gradient(135deg, #00A8CC 0%, #0099BB 100%);\r\n      color: white;\r\n      font-weight: 600;\r\n    }\r\n    \r\n    .detail-box tbody tr:nth-child(odd) {\r\n      background-color: #f9f9f9;\r\n    }\r\n    \r\n    .detail-box tbody tr:nth-child(even) {\r\n      background-color: #ffffff;\r\n    }\r\n    \r\n    .detail-box tbody tr:hover {\r\n      background-color: #f0f8ff;\r\n    }\r\n\r\n    /* Footer-box con imagen y QR */\r\n    .footer-box {\r\n      margin-top: 10px;\r\n      margin-bottom: 10px;\r\n      background-color: #015bb9;\r\n      padding: 0;\r\n      border-radius: 6px;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .footer-content {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n\r\n    .footer-img {\r\n      width: 100%;\r\n      height: auto;\r\n      display: block;\r\n      border-radius: 0;\r\n    }\r\n\r\n    .qr-container {\r\n      text-align: center;\r\n      color: white;\r\n    }\r\n\r\n    .footer-qr {\r\n      width: 150px;\r\n      height: 150px;\r\n      display: block;\r\n      margin: 0 auto;\r\n    }\r\n\r\n    .qr-text {\r\n      font-weight: bold;\r\n      margin-bottom: 10px;\r\n      margin-left: 5px;\r\n      margin-right: 5px;\r\n      text-align: center;\r\n      color:#ccc\r\n    }\r\n\r\n    .highlight {\r\n      color: #FFD700;\r\n    }\r\n\r\n    /* Signature & Acceptance */\r\n    .signature-acceptance-container {\r\n      margin-top: 10px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      gap: 20px;\r\n    }\r\n\r\n    .signature-section {\r\n      flex: 0 0 250px;\r\n      text-align: center;\r\n      padding-top: 10px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n    }\r\n\r\n    .signature-image {\r\n      width: 100%;\r\n      height: auto;\r\n      max-width: 120px;\r\n      margin: 0 auto 5px;\r\n      display: block;\r\n      order: 1;\r\n    }\r\n\r\n    .signature-line {\r\n      border-top: 1px solid #333;\r\n      width: 100%;\r\n      margin-bottom: 5px;\r\n      order: 2;\r\n    }\r\n\r\n    .signature-label {\r\n      font-size: 12px;\r\n      font-weight: bold;\r\n      color: #333;\r\n      order: 3;\r\n    }\r\n\r\n    .acceptance-text {\r\n      margin-top: 10px;\r\n      font-size: 10px;\r\n      color: #777;\r\n      text-align: justify;\r\n      border-left: 3px solid #ccc;\r\n      padding-left: 10px;\r\n    }\r\n\r\n    /* Aviso de aceptación */\r\n    .acceptance-text {\r\n      flex: 1;\r\n      padding: 15px;\r\n      background-color: #fffacd;\r\n      border-left: 4px solid #ffd700;\r\n      text-align: justify;\r\n      font-size: 12px;\r\n      line-height: 1.5;\r\n      color: #333;\r\n    }\r\n\r\n    .payment-summary-box {\r\n      background: linear-gradient(135deg, #006f87 0%, #0099BB 100%);\r\n      color: white;\r\n      padding: 0px 12px; /* reducido para controlar altura */\r\n      margin: 10px 0;\r\n      border-radius: 8px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      height: 72px; /* altura fija para evitar desplazamiento */\r\n      box-shadow: 0 6px 18px rgba(0, 168, 204, 0.25);\r\n      border: 2px solid rgba(255, 255, 255, 0.08);\r\n      overflow: hidden;\r\n    }\r\n\r\n    .payment-summary-box .summary-item {\r\n      text-align: center;\r\n      flex: 1;\r\n      padding: 0 12px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n\r\n    .payment-summary-box .summary-item label {\r\n      display: block;\r\n      font-size: 12px;\r\n      font-weight: 700;\r\n      margin-bottom: 4px;\r\n      text-transform: uppercase;\r\n      letter-spacing: 1px;\r\n      color: rgba(230, 247, 251, 0.95);\r\n    }\r\n\r\n    .payment-summary-box .summary-item .value {\r\n      display: block;\r\n      font-size: 40px; /* valor más grande sin aumentar la caja */\r\n      font-weight: 800;\r\n      color: #ffc107;\r\n      line-height: 1;\r\n    }\r\n\r\n    .payment-summary-box .divider {\r\n      width: 2px;\r\n      height: 56px;\r\n      background-color: rgba(255, 255, 255, 0.22);\r\n      margin: 0 12px;\r\n    }\r\n\r\n    /* Instrucción bancaria */\r\n    .bank-instruction {\r\n      margin: 12px 0 0 0;\r\n      padding: 12px 16px;\r\n      background: #e9fbff;\r\n      color: #004b5a;\r\n      font-weight: 700;\r\n      text-align: center;\r\n      border-radius: 6px;\r\n      font-size: 13px;\r\n    }\r\n\r\n    footer {\r\n      margin-top: 43px;\r\n      margin-left: -40px;\r\n      margin-right: -40px;\r\n      margin-bottom: -40px;\r\n      background: linear-gradient(135deg, #00A8CC 0%, #0099BB 100%);\r\n      padding: 2px;\r\n      font-size: 0.9em;\r\n      text-align: center;\r\n      color: white;\r\n      border-radius: 8px 8px 0 0;\r\n      box-shadow: 0 -2px 8px rgba(0, 168, 204, 0.2);\r\n    }\r\n    \r\n    footer p {\r\n      margin: 0;\r\n      \r\n      font-weight: 500;\r\n      letter-spacing: 0.5px;\r\n    }\r\n  </style>\r\n</head>\r\n\r\n<body>\r\n  \r\n  {{#childTemplate 'header-footer'}}{{/childTemplate}}\r\n\r\n  <!-- Información del cliente y pago -->\r\n  <div class=\"info-section\">\r\n    <div class=\"client-box\">\r\n      <table>\r\n        <tr>\r\n          <td><strong>NOMBRE:</strong></td>\r\n          <td>DE LOS RÍOS GAVIRIA JUAN MANUEL</td>\r\n          <td><strong>NIT:</strong></td>\r\n          <td>9739711</td>\r\n        </tr>\r\n        <tr>\r\n          <td><strong>DIRECCIÓN:</strong></td>\r\n          <td>DG3 #34t02 T7 APTO 308</td>\r\n          <td><strong>REF. PAGO:</strong></td>\r\n          <td>7308</td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n    <div class=\"payment-box\">\r\n      <strong>Páguese hasta</strong>\r\n      Enero 10 de 2026\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Detalle del documento en shape -->\r\n  <div class=\"detail-box\">\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Concepto</th>\r\n          <th>Saldo Ant.</th>\r\n          <th>Valor Mes</th>\r\n          <th>Intereses</th>\r\n          <th>Total</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {{#each detalle}}\r\n        <tr>\r\n          <td>{{this.concepto}}</td>\r\n          <td>${{this.saldoAnterior}}</td>\r\n          <td>${{this.valorMes}}</td>\r\n          <td>${{this.intereses}}</td>\r\n          <td>${{this.total}}</td>\r\n        </tr>\r\n        {{/each}}\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td colspan=\"4\">Total General</td>\r\n          <td>${{totalGeneral}}</td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  </div>\r\n\r\n  <!-- Recuadro de Referencia de Pago y Total a Pagar -->\r\n  <div class=\"payment-summary-box\">\r\n    <div class=\"summary-item\">\r\n      <label>Referencia de Pago</label>\r\n      <span class=\"value\">7308</span>\r\n    </div>\r\n    <div class=\"divider\"></div>\r\n    <div class=\"summary-item\">\r\n      <label>Valor Total a Pagar</label>\r\n      <span class=\"value\">${{totalGeneral}}</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"bank-instruction\">Consigne en CAJA SOCIAL CTA CTE Nº 21004138043</div>\r\n\r\n  <!-- Footer-box con imagen y QR -->\r\n  <div class=\"footer-box\">\r\n    <div class=\"footer-content\">\r\n      <img src=\"{{asset 'mipagoamigo.png' 'dataURI'}}\"\r\n        alt=\"Banco Caja Social\" class=\"footer-img\" />\r\n    </div>\r\n  </div>\r\n\r\n\r\n   <!-- Firma y Aviso (Restored Layout) -->\r\n  <div class=\"signature-acceptance-container\">\r\n    <!-- Aviso importante -->\r\n    <div class=\"important-box\">\r\n      AGRADECEMOS SU PAGO A TIEMPO. <br />\r\n      Envíe su SOPORTE DE PAGO a <span>conjuntoacquahillsph@gmail.com</span>. <br />\r\n      La REFERENCIA DE PAGO es <span>NUMÉRICA</span>, no introduzca letras, símbolos o espacios en ella.\r\n    </div>\r\n\r\n    <!-- Firma -->\r\n    <div class=\"signature-section\">\r\n      <div class=\"signature-line\"></div>\r\n      <img src=\"http://localhost:5488/assets/hYqP2SOuMS4wVQh7/content?v=1764424317184\" alt=\"Firma del Administrador\" class=\"signature-image\" />\r\n      <div class=\"signature-label\">Firma del Administrador</div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"acceptance-text\">\r\n    <strong>Aviso Importante:</strong> Este documento se entiende aceptado si luego de 10 días calendario no se ha\r\n    presentado reclamación alguna.\r\n  </div>\r\n\r\n  <!-- Footer -->\r\n  <footer>\r\n    <p>G360co - Soluciones Inteligentes en Gestión | www.g360co.com</p>\r\n  </footer>\r\n</body>\r\n\r\n</html>"},"lineNumber":72,"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"nk4fvyg1nmbmi3r","id":"m2b6wagoc7a115c","stack":"Error: Child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n  at Object.childTemplate (system-helpers.js:72:11)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:284:28\n  at async Promise.all (index 0)\n  at async executionFn (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:283:11)\n  at async run (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:14)\n  at async executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)\nwrapped by:\nError: \"childTemplate\" helper call failed\n(because) child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n  at module.exports (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at getEnhancedHelperError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:442:54)\n  at C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:460:15\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:284:28\n  at async Promise.all (index 0)\n  at async executionFn (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:283:11)\n  at async run (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:14)\n  at async executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)\nwrapped by:\nError: Error when evaluating engine handlebars for template /acqua_full_color\n(because) \"childTemplate\" helper call failed\n(because) child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n  at module.exports (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at executeEngine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:377:35)\n  at async engine.engine (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\siste\\Documents\\WORKSPACE\\reporte\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)","message":"Error when evaluating engine handlebars for template /acqua_full_color\n(because) \"childTemplate\" helper call failed\n(because) child template result needs to be a text. Consider changing recipe to a text based recipe like html.\n\n(system-helpers.js line 72:11)\n\n  70 |\n  71 |   if (res.meta.contentType && !res.meta.contentType.includes('text')) {\n> 72 |     throw new Error('Child template result needs to be a text. Consider changing recipe to a text based recipe like html.')\n     |           ^\n  73 |   }\n  74 |\n  75 |   return res.content.toString()\n\n"}
